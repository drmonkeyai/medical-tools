:root{
  --bg:#f3f6fb;
  --card:#ffffff;
  --text:#0f172a;
  --muted:#64748b;
  --line:#e5e7eb;
  --primary:#1d4ed8;
  --primary2:#0b5bd3;

  /* Radius system */
  --r-card:16px;   /* card lớn */
  --r-ui:14px;     /* input / button / avatar / tile */
  --r-pill:999px;

  /* Shadow system */
  --shadow-card: 0 6px 20px rgba(15,23,42,0.06);
  --shadow-hover: 0 6px 16px rgba(15,23,42,0.08);

  /* Risk colors (dịu, đồng bộ UI) */
  --risk-low-bg: rgba(22,163,74,0.10);
  --risk-low-bd: rgba(22,163,74,0.28);
  --risk-low-tx: #166534;

  --risk-mod-bg: rgba(245,158,11,0.12);
  --risk-mod-bd: rgba(245,158,11,0.30);
  --risk-mod-tx: #92400e;

  --risk-high-bg: rgba(249,115,22,0.12);
  --risk-high-bd: rgba(249,115,22,0.30);
  --risk-high-tx: #9a3412;

  --risk-vhigh-bg: rgba(239,68,68,0.12);
  --risk-vhigh-bd: rgba(239,68,68,0.30);
  --risk-vhigh-tx: #991b1b;
}

*{ box-sizing:border-box; }
html, body{ height:100%; overflow-x:hidden; }

body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  background:var(--bg);
  color:var(--text);
}

a{ color:inherit; }

/* Layout */
.app{
  display:flex;
  min-height:100vh;
  width:100%;
}

.app__main{
  flex:1;
  display:flex;
  flex-direction:column;
  min-width:0;
  width:100%;
}

.app__content{
  padding:18px;
  min-width:0;
}

/* Generic page wrapper */
.page{
  max-width: 1160px;
  margin: 0 auto;
  min-width:0;
}

/* Sidebar */
.sb{
  width:240px;
  flex: 0 0 240px;
  background: linear-gradient(180deg, #0b3a83, #0b5bd3);
  color:#fff;
  padding:14px;
  display:flex;
  flex-direction:column;
  gap:14px;
}

.sb__brand{
  display:flex;
  gap:10px;
  align-items:center;
  padding:10px 10px;
  border-radius:var(--r-ui);
  background: rgba(255,255,255,0.08);
}

.sb__logo{
  width:34px;height:34px;
  border-radius:10px;
  display:flex;align-items:center;justify-content:center;
  background: rgba(255,255,255,0.18);
  font-size:18px;
}

.sb__title{ font-weight:800; line-height:1; }
.sb__sub{ font-size:12px; opacity:.85; margin-top:3px; }

.sb__nav{
  display:flex;
  flex-direction:column;
  gap:8px;
}

.sb__link{
  padding:10px 12px;
  border-radius:var(--r-ui);
  text-decoration:none;
  color:#fff;
  opacity:.92;
  background: transparent;
}
.sb__link:hover{ background: rgba(255,255,255,0.10); }
.sb__link--active{
  background: rgba(255,255,255,0.18);
  opacity:1;
}

.sb__footer{ margin-top:auto; }
.sb__chip{
  display:inline-block;
  padding:6px 10px;
  border-radius:var(--r-pill);
  background: rgba(255,255,255,0.16);
  font-size:12px;
}

/* Topbar */
.tb{
  height:58px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:10px 18px;

  background: var(--bg);
  border-bottom: none;

  width:100%;
  min-width:0;
}

/* Ô thời gian */
.tb__search{
  flex:1;
  max-width:760px;
  display:flex;
  align-items:center;
  gap:10px;
  padding:10px 12px;
  min-width:0;

  background:#fff;
  border:1px solid var(--line);
  border-radius:var(--r-ui);
  box-shadow: 0 4px 14px rgba(15,23,42,0.04);
}

.tb__input{
  border:none;
  outline:none;
  width:100%;
  font-size:14px;
  min-width:0;
}

/* Cụm nút phải */
.tb__right{
  display:flex;
  align-items:center;
  gap:10px;

  padding:8px 10px;
  border-radius:var(--r-ui);
  background:#fff;
  border:1px solid var(--line);
  box-shadow: 0 4px 14px rgba(15,23,42,0.04);

  flex: 0 0 auto;
}

/* Nút Tạo ca mới */
.tb__btn{
  border:none;
  background: var(--primary);
  color:#fff;
  padding:10px 14px;

  border-radius:var(--r-pill);
  cursor:pointer;
  font-weight:800;
}
.tb__btn:hover{ filter: brightness(0.95); }

/* Avatar */
.tb__avatar{
  width:36px;height:36px;
  border-radius:var(--r-ui);
  display:flex;align-items:center;justify-content:center;
  background:#eef2ff;
  border:1px solid var(--line);
}

/* Cards / Dashboard */
.pageTitle{
  font-size:18px;
  font-weight:800;
  margin: 0 0 12px 0;
}

.grid{
  display:grid;
  grid-template-columns: repeat(12, 1fr);
  gap:14px;
  min-width:0;
}

.card{
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: var(--r-card);
  padding: 14px;
  box-shadow: var(--shadow-card);
  min-width:0;
}

/* Tiles */
.tileGrid{
  display:grid;
  grid-template-columns: repeat(4, minmax(0,1fr));
  gap:12px;
}

.tile{
  border: 1px solid var(--line);
  border-radius: var(--r-ui);
  padding: 12px;
  background: #fff;
  cursor:pointer;
  text-decoration:none;
  display:flex;
  flex-direction:column;
  gap:6px;
  min-width:0;
}
.tile:hover{ box-shadow: var(--shadow-hover); }

.tile__icon{ font-size:20px; }
.tile__label{ font-weight:800; }
.tile__sub{ font-size:12px; color:var(--muted); }

/* ---------- Form UI (dùng cho calculators) ---------- */
.calcHeader{
  display:flex;
  justify-content:space-between;
  gap:12px;
  flex-wrap:wrap;
  align-items:center;
}

.calcTitle{
  font-size:28px;
  font-weight:900;
  margin: 0;
  letter-spacing: 0.2px;
}

.calcSub{
  margin-top:6px;
  color:var(--muted);
  font-weight:700;
  line-height:1.35;
}

.btn{
  border:1px solid var(--line);
  background:#fff;
  color:var(--text);
  padding:10px 12px;
  border-radius: var(--r-ui);
  cursor:pointer;
  font-weight:900;
}
.btn:hover{ filter: brightness(0.98); }

.btnPrimary{
  border:none;
  background:var(--primary);
  color:#fff;
  padding:10px 14px;
  border-radius: var(--r-pill);
  cursor:pointer;
  font-weight:900;
}
.btnPrimary:hover{ filter: brightness(0.96); }

.formGrid{
  display:grid;
  grid-template-columns: repeat(12, 1fr);
  gap:12px;
  margin-top: 14px;
}

.field{
  grid-column: span 3;
  min-width:0;
}

.field--wide{ grid-column: span 6; }
.field--full{ grid-column: span 12; }

.label{
  display:block;
  font-weight:900;
  margin-bottom:8px;
}

.input, .select{
  width:100%;
  border:1px solid var(--line);
  border-radius: var(--r-ui);
  padding:12px 12px;
  background:#fff;
  outline:none;
  font-weight:800;
  font-size:14px;
}

.input:focus, .select:focus{
  border-color: rgba(29,78,216,0.45);
  box-shadow: 0 0 0 4px rgba(29,78,216,0.10);
}

.help{
  margin-top:8px;
  color:var(--muted);
  font-size:12px;
  line-height: 1.35;
}

.divider{
  height:1px;
  background: var(--line);
  margin: 14px 0;
}

/* ---------- Risk badge (RiskTargetsCard dùng) ---------- */
.badge{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 12px;
  border-radius: var(--r-pill);
  font-weight:900;
  border:1px solid transparent;
  white-space: nowrap;
}

.badge__dot{
  width:9px;
  height:9px;
  border-radius:999px;
  background: currentColor;
  opacity: .95;
}

.badge--low{
  background: var(--risk-low-bg);
  border-color: var(--risk-low-bd);
  color: var(--risk-low-tx);
}

.badge--moderate{
  background: var(--risk-mod-bg);
  border-color: var(--risk-mod-bd);
  color: var(--risk-mod-tx);
}

.badge--high{
  background: var(--risk-high-bg);
  border-color: var(--risk-high-bd);
  color: var(--risk-high-tx);
}

.badge--very-high{
  background: var(--risk-vhigh-bg);
  border-color: var(--risk-vhigh-bd);
  color: var(--risk-vhigh-tx);
}

/* Responsive */
@media (max-width: 980px){
  .sb{ width:200px; flex: 0 0 200px; }
  .tileGrid{ grid-template-columns: repeat(2, minmax(0,1fr)); }

  .field{ grid-column: span 6; }
  .field--wide{ grid-column: span 12; }
}

@media (max-width: 640px){
  .app__content{ padding: 14px; }
  .calcTitle{ font-size: 24px; }

  .field{ grid-column: span 12; }
}
